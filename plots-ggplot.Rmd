---
title: "Creating graphs in R with `ggplot2`"
author: "AL"
date: "2024-01-31"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r cars}
summary(cars)
```

## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.

```{r}
library (tidyverse)
library(readxl)
library(here)

```
```{r}
ca_np<-read.csv(here("data", "ca_np.csv"))
```

```{r}
ci_np<- read_excel(here("data", "ci_np.xlsx"))
```

```{r}
ggplot(data=ci_np,aes(x=year, y=visitors))+geom_line()
```

```{r}
gg_base<-ggplot(data=ci_np, aes(x=year, y=visitors))
```

```{r}
gg_base+geom_point()
```

```{r}
gg_base+geom_col()
gg_base+geom_area()
```

```{r}
gg_base+
  geom_line(
    color = "coral4",
    linetype = "dashed"
  )
```

```{r}
gg_base+
  geom_point(color="coral3",
             pch=16,
             size=4,
             alpha=0.5)
```
```{r}
gg_base+
  geom_point(
    aes(size=visitors,
        color=visitors),
    alpha=0.5
  )
```

```{r}
gg_base+
  geom_col(aes(fill=visitors))
```

```{r}
gg_base+
  geom_point(
    aes(size=visitors,
        color=visitors),
    alpha=0.5
  )+
  theme_minimal()
```

```{r}
gg_base+
  geom_line(linetype="dotted")+
  theme_bw()+
  labs(
    x="Year",
    y="Annual park visitors",
    title="Channel Islands NP Visitation",
    subtitle="(1963-2016)"
  )
```

```{r}
gg_base+
  geom_line(color="purple")+
  geom_point(color="orange",
             aes(size=year),
             alpha=0.5)
```

```{r}
gg_base+
  geom_col(fill="orange",
           color="purple")+
  geom_line(color="green")
```

```{r}
ggplot(data=ca_np, aes(x=year, y=visitors))+
  geom_line()
```

```{r}
gg_np<-ggplot(data=ca_np, aes(x=year, y=visitors, group = park_name))

```


```{r}
gg_np+
  geom_line(show.legend = FALSE)+
  theme_light()+
  labs(x="year", y="annual visitors")+
  facet_wrap(~park_name)
```

```{r}
ggsave(here("figures","np_graphs.jpg"), dpi=180, width =8, height=7)
```

